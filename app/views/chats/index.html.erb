
<%=javascript_include_tag "chat"%>

    
<div class="l-panel-contain">
  <div class="l-panel">
    <div class="projects-list">
      <%@projects.each do |project|%>
        <%=project_link project%>
      <%end%>
    </div>
  </div>
</div>

<<<<<<< HEAD
<div class="r-panel-contain">
		<div class="r-panel" style="display:none;">
			<div class="comment-contain">
				<div class="comment-input no-attach">
					<label class="hidden">Message:</label> 
					<%=hidden_field_tag "chat[project_id]",:id=>"chat_project_id"%>
					<textarea cols="" rows="" onfocus="this.select()" id="chat-message" class="textarea comment-message" name="message"></textarea>
					<div class="chat-right">
						<a class="attach" href="/chats-1"></a>
						<input type="submit" value="Send" class="chat-send" id="chat-send"></input>
					</div>
					<%=clear_fix%>
				</div>
				<%=clear_fix%>
			</div>
			<div class="chat-container" style="height: 159px;">
				<div class="message recent chat-1">
					<div class="color"></div>
					<div class="name"><span>Michael A.</span></div>
					<div class="content most-recent">I like it.This is just a test of something quite long and we need to see how things scale. What do you think?<br/>This is just a test of something quite long and we need to see how things scale. What do you think?This is just a test of something quite long and we need to see how things scale. What do you think?This is just a test of something quite long and we need to see how things scale. What do you think?</div>
				</div>
				<div class="message chat-2">
					<div class="color"></div>
					<div class="name"><span>James M.</span></div>
					<div class="content most-recent">Could you explain more?
						<div class="attachments">
							<div class="attachment-thumb-frame"><img alt="attachment" src="/images/content/attachment-1.jpg"/></div>
							<div class="attachment-thumb-frame"><img alt="attachment" src="/images/content/attachment-2.jpg"/></div>
							<div class="attachment-thumb-frame"><img alt="attachment" src="/images/content/attachment-1.jpg"/></div>
							<%=clear_fix%>
						</div>
					</div>
				</div>
				<div class="message chat-1 same-user">
					<div class="color"></div>
					<div class="name"><span>Michael A.</span></div>
					<div class="content">This is just a test of something quite long and we need to see how things scale. What do you think?</div>
				</div>
				<div class="message chat-1">
					<div class="color"></div>
					<div class="name"><span>Michael A.</span></div>
					<div class="content">Oh and one more thing. Are you ready for that presentation we have to make on Tuesday to Google?</div>
				</div>
				<div class="message chat-2">
					<div class="color"></div>
					<div class="name"><span>James M.</span></div>
					<div class="content">Oh yeah we're ready baby!</div>
				</div>
				<div class="message chat-3">
					<div class="color"></div>
					<div class="name"><span>Ben L.</span></div>
					<div class="content">Yeah I hear you.</div>
				</div>
				<%=clear_fix%>
			</div>
		</div>
	</div>
	<div id="add_people" style="display:none;">
		<%= render :partial=>'projects/invite',:locals=>{:user_emails=>@user_emails} %>
		<div>
		
	<script>
	function add_people_settings()
{
document.getElementById('add_people').style.display="block";
document.getElementById('invite_message').value="";
document.getElementById('invite_name').value="";
document.getElementById('invite_email').value="";
}

function send_people_invite()
{
proj_id=document.getElementById('project_id').value;
name=document.getElementById('invite_name').value;
email=document.getElementById('invite_email').value;
message=document.getElementById('message').value;
var pars = "project_id=" + proj_id +  "&name="+ name +  "&email="+ email +  "&message="+ message;
$.ajax({
       type :'get',
       url : "/projects/invite_people_settings?"+pars,
			  success: function(data){
				if(data.length==1)
				document.getElementById('add_people').style.display="none";
							document.getElementById('invite_name').value="";
			document.getElementById('invite_email').value="";
			document.getElementById('message').value="";
				}
    });
}
function cancel_people_invite()
{
			document.getElementById('add_people').style.display="none";
			document.getElementById('invite_name').value="";
			document.getElementById('invite_email').value="";
			document.getElementById('message').value="";
}
</script>
=======
	
			<script>
	function show_drag_and_drop()
	{
	
	if ($('.attach-contain').css('display')=="block")
		$('.attach-contain').css('display','none');
	else
		$('.attach-contain').css('display','block');
	}
	var attachitem=[];
		$(function () {
    $('#form4').fileUploadUI({
    uploadTable: $('#files'),
    downloadTable: $('#attachment_files'),
			onProgress: function(event, files, index, xhr, handler){
		$('#loader1').show();
		},
    buildUploadRow: function (files, index) {
        return false;    },
    buildDownloadRow: function (file) {
a=file.id;
var original=file.file
var b=original.lastIndexOf('.')
var c=original.substring(b)
var d=original.split(c)[0]
if(d.length > 12)
{
   var e=d.substring(original,10)
   var file1=e.concat(c)
 }
 		 attachitem.push(a);
     document.getElementById('attach_hidden').value=attachitem;
 	   return $('<div id="attachment_' + a + '" class="attachment">'+'<a href="javascript:delete_attachment('+a+');"> Remove </a>' +'<span class="filename">' + file.file+ '</span></div>');
    },
			onComplete:function (event, files, index, xhr, handler) {
    $('#loader1').hide();
}
});
});
	
	</script>
>>>>>>> abe0a979d55a32eed19514e4d1451503a791ce31
